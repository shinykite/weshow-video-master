<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="format-detection" content="telephone=no">
<title>题目管理</title>
<style>
body {font-family:arial, 'Microsoft Yahei', '微软雅黑'; font-size:12px;}
*{padding: 0;margin: 0;font-size: 14px;line-height: 20px;font-family: arial;}
a, a:visited{color:#337ab7;text-decoration: none;}
header{padding: 10px 0 2px 0;background-color: #fff; width:100%;}
h1{font-size: 24px;color:#333;font-weight: normal; font-family:arial, 'Microsoft Yahei', '微软雅黑';}
code{padding: 2px 4px;font-size: 90%;color: #c7254e;background-color: #f9f2f4;border-radius: 4px;}
.wrap{width: 100%;margin: 10px;}
.content{margin-top: 30px; padding:0 10px 0 10px; width: 100%;}
.content1{margin-top: 30px; padding-left:10px; width: 100%; line-height:160%;}
.list{width:100%;font-size: 36px;}
.list .item{position: relative;padding-left: 10px;margin-top: 50px;font-size: 36px;}
.list .item .step{position: absolute;width: 36px;height: 36px;top:-3px;left:0; text-align: center;line-height: 36px;}
.list .item h2{font-size: 38px;font-weight: normal;}
.list .item p{line-height: 36px;margin-top: 10px;font-size: 36px;}
.list .item t1{line-height: 36px;margin-top: 10px;font-size: 36px;}
table.dataintable {margin-top:15px; border-collapse:collapse; border:1px solid #aaa; width:100%; font-family:arial, 'Microsoft Yahei', '微软雅黑'; }
table.dataintable td {vertical-align:text-top; padding:2px; border:1px solid #666; font-family:arial, 'Microsoft Yahei', '微软雅黑'; font-size:12px;}
table.dataintable th {vertical-align:baseline; padding:2px; background-color:#999; border:1px solid #3F3F3F; text-align:left; color:#fff;}
.bn {border: 1px; width:100%; }
p {padding:3px 0 3px 0;}
</style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>题目管理</h1>
    </div>
  </header>
  <div class="content">
    <div class="list">
      <table class="dataintable">
        <tr>
          <th width="4%">ID</th>
          <th width="4%">类别</th>
          <th width="4%">难度</th>
          <th width="10%">内容</th>
          <th width="4%">选项1</th>
          <th width="4%">选项2</th>
          <th width="4%">选项3</th>
          <th width="4%">选项4</th>
          <th width="3%">选项数</th>
          <th width="3%">答案</th>
          <th width="5%">知识点</th>
          <th width="3%">Tags</th>
          <th width="3%">来源</th>
          <th width="3%">类别1</th>
          <th width="3%">类别2</th>
          <th width="3%">类别3</th>
          <th width="3%">类别4</th>
          <th width="3%">敏感词</th>
          <th width="3%">创建人ID</th>
          <th width="3%">创建人</th>
          <th width="3%">创建时间</th>
          <th width="3%">答对数</th>
          <th width="3%">答错数</th>
          <th width="3%">成功率</th>
          <th width="3%">备注</th>
		  <th width="3%" colspan="2">操作</th>
        </tr>
        <% var currentId = 0; %>
        <% quest_list.forEach(function(item) { %>
        <tr>
          <form action="update" enctype="multipart/form-data" method="post">
            <td><input class="bn" size="1" type="text" name ="id" value="<%= item.id %>"/></td>
            <td><input class="bn" size="1" type="text" name ="quest_type" value="<%= item.type %>"/></td>
            <td><input class="bn" size="1" type="text" name ="quest_level" value="<%= item.level %>"/></td>
            <td><input class="bn" size="10" type="text" name ="quest_content" value="<%= item.content %>"/></td>
            <td><input class="bn" size="4" type="text" name ="quest_item_a" value="<%= item.item0 %>"/></td>
            <td><input class="bn" size="4" type="text" name ="quest_item_b" value="<%= item.item1 %>"/></td>
            <td><input class="bn" size="4" type="text" name ="quest_item_c" value="<%= item.item2 %>"/></td>
            <td><input class="bn" size="4" type="text" name ="quest_item_d" value="<%= item.item3 %>"/></td>
            <td><input class="bn" size="1" type="text" name ="item_count" value="<%= item.item_count %>"/></td>
            <td><input class="bn" size="2" type="text" name ="quest_answer" value="<%= item.answer %>"/></td>
            <td><input class="bn" size="8" type="text" name ="note" value="<%= item.note %>"/></td>
            <td><input class="bn" size="3" type="text" name ="quest_tags" value="<%= item.tags %>"/></td>
            <td><input class="bn" size="6" type="text" name ="quest_source" value="<%= item.source %>"/></td>
            <td><input class="bn" size="1" type="text" name ="category0" value="<%= item.category0 %>"/></td>
            <td><input class="bn" size="1" type="text" name ="category1" value="<%= item.category1 %>"/></td>
            <td><input class="bn" size="1" type="text" name ="category2" value="<%= item.category2 %>"/></td>
            <td><input class="bn" size="1" type="text" name ="category3" value="<%= item.category3 %>"/></td>
            <td><input class="bn" size="1" type="text" name ="filter" disabled="true" value="<%= item.filter %>"/></td>
            <td><input class="bn" size="2" type="text" name ="creator_id" value="<%= item.creator_id %>"/></td>
            <td><input class="bn" size="3" type="text" name ="creator_name" value="<%= item.creator_name %>"/></td>
            <td><input class="bn" size="2" type="text" name ="create_time" value="<%= item.create_time %>"/></td>
            <td><input class="bn" size="1" type="text" name ="correct_count" disabled="true" value="<%= item.correct_count %>"/></td>
            <td><input class="bn" size="1" type="text" name ="wrong_count" disabled="true" value="<%= item.wrong_count %>"/></td>
            <td><input class="bn" size="1" type="text" name ="rate" disabled="true" value="<%= item.correct_count / (item.wrong_count + item.correct_count) * 100 %>"/></td>
            <td><input class="bn" size="2" type="text" name ="more" value="<%= item.more %>"/>
            <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
            <td><input size="2" type="submit" value="更新"/></td>
          </form>
          <form action="delete?id=<%= item.id %>" enctype="multipart/form-data" method="post">
            <td>
              <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
              <input size="2" type="submit" name="delete" value="删除"/>
            </td>
          </form>
        </tr>
        <% currentId = item.id %>
        <% }) %>
        <tr>
          <form action="webadd" enctype="multipart/form-data" method="post">
            <td><input size="2" type="submit" value="添加"/></td>
            <td><input class="bn" size="1" type="text" name ="quest_type" value="1"/></td>
            <td><input class="bn" size="1" type="text" name ="quest_level" value=""/></td>
            <td><input class="bn" size="10" type="text" name ="quest_content"/></td>
            <td><input class="bn" size="4" type="text" name ="quest_item_a"/></td>
            <td><input class="bn" size="4" type="text" name ="quest_item_b"/></td>
            <td><input class="bn" size="4" type="text" name ="quest_item_c"/></td>
            <td><input class="bn" size="4" type="text" name ="quest_item_d"</td>
            <td><input class="bn" size="1" type="text" name ="item_count" value="3"/></td>
            <td><input class="bn" size="2" type="text" name ="quest_answer"/></td>
            <td><input class="bn" size="8" type="text" name ="note"</td>
            <td><input class="bn" size="6" type="text" name ="quest_source"/></td>
            <td><input class="bn" size="3" type="text" name ="quest_tags"/></td>
            <td><input class="bn" size="1" type="text" name ="category0"/></td>
            <td><input class="bn" size="1" type="text" name ="category1"/></td>
            <td><input class="bn" size="1" type="text" name ="category2"/></td>
            <td><input class="bn" size="1" type="text" name ="category3"/></td>
            <td><input class="bn" size="1" type="text" name ="filter" disabled="true"/></td>
            <td><input class="bn" size="2" type="text" name ="creator_id" value="1"/></td>
            <td><input class="bn" size="3" type="text" name ="creator_name" value="Admin"/></td>
            <td><input class="bn" size="2" type="text" name ="create_time" disabled="true"/></td>
            <td><input class="bn" size="1" type="text" name ="correct_count" disabled="true"/></td>
            <td><input class="bn" size="1" type="text" name ="wrong_count" disabled="true"/></td>
            <td><input class="bn" size="1" type="text" name ="rate" disabled="true"/></td>
            <td><input class="bn" size="2" type="text" name ="more"/></td>
            <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
            <td><input size="2" type="submit" value="添加"/></td>
			<td></td>
          </form>
        </tr>
		<tr>
		<td colspan="27" height="10px"></td>
		</tr>
        <tr>
          <form action="index" enctype="multipart/form-data" method="post">
            <td colspan="3">起始ID：<input size="5" type="text" name ="id" value="<%= currentId + 1 %>"/></td>
            <td>个数：<input size="5" type="text" name ="size" value="10"/></td>
            <td colspan="23"><input size="4" type="submit" value=" 下一页 "/></td>
            <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
          </form>
        </tr>
        <tr>
          <form action="index?filter=1" enctype="multipart/form-data" method="post">
            <td colspan="3">起始ID：<input size="5" type="text" name ="id" value="0"/></td>
            <td>个数：<input size="5" type="text" name ="size" value="10"/></td>
            <input size="2" type="hidden" name="filter" value="1">
            <td colspan="23"><input size="4" type="submit" value="查询敏感内容"/></td>
            <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
          </form>
        </tr>
      </table>
      <br><br>

      <h2>选择单个HTML文件,输入答案,单个添加</h2>
      <form class="p" action="mfgwithoutanswer" enctype="multipart/form-data" method="post">
        <p>请选择文件(支持HTML文件)：<br><input type="file" name ="file_input"/></p>
        <p>难度：<input size="10" type="text" name ="quest_level" value="3"/></p>
        <p>Tags：<input size="10" type="text" name ="quest_tags" value="文艺范"/></p>
        <p>答案：<input size="10" type="text" name ="answer"/></p>
        <p><input type="submit" name ="file_submit" value=" 　  - -  上 传  - -  　 "/></p>
        <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
      </form><br><br>

      <h2>选择单个HTML文件,单个添加</h2>
      <form class="p" action="uploadmfgfile" enctype="multipart/form-data" method="post">
        <p>请选择文件(支持HTML文件)：<br><input type="file" name ="file_input"/></p>
        <p>难度：<input size="10" type="text" name ="quest_level" value="3"/></p>
        <p>Tags：<input size="10" type="text" name ="quest_tags" value="文艺范"/></p>
        <p>类别1：<input size="10" type="text" name ="category0"/></p>
        <input type="submit" name ="file_submit" value=" 　  - -  上 传  - -  　 "/></p>
        <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
      </form>
	  <br><br>

      <h2>选择TXT文件,批量添加</h2>
      <form class="p" action="uploadpptxt" enctype="multipart/form-data" method="post">
        <p>请选择文件(固定格式txt文件)：<br><input type="file" name ="file_input"/></p>
        <p><input type="submit" name ="file_submit" value=" 　  - -  上 传  - -  　 "/></p>
        <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
      </form><br><br>

      <h2>选择整理文件,批量添加</h2>
      <form class="p" action="upload" enctype="multipart/form-data" method="post">
        <p>请选择文件(只支持以逗号为分隔符的csv或txt文件)：<br><input type="file" name ="file_input"/></p>
        <p><input type="submit" name ="file_submit" value=" 　  - -  上 传  - -  　 "/></p>
        <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
      </form><br><br>

      <h2>选择链接文件,批量添加</h2>
      <form class="p" action="uploadmfg" enctype="multipart/form-data" method="post">
        <p>请选择文件(只支持以逗号为分隔符的csv或txt文件)：<br><input type="file" name ="file_input"/></p>
        <p><input type="submit" name ="file_submit" value=" 　  - -  上 传  - -  　 "/></p>
        <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
      </form><br><br>

      <h2>SQL语句执行</h2>
      <form class="p" action="queryinput" enctype="multipart/form-data" method="post">
        <p>SQL语句：<input size="80" type="text" name ="quest_sql" value="select * from weshow_question where id=1"/></p>
        <p><input type="submit" name ="question_submit" value=" 　  - -  查 询  - -  　 "/></p>
        <input type="hidden" name="wxtoken" value="<%= wxtoken %>">
      </form>
      <br><br>
    </div>
  </div>
</body>
</html>